.boardContainer {
    display: grid;
    gap: 1px;
    background-color: hsl(var(--color-text-muted) / 0.1);
    /* Grid line color */
    border: 2px solid hsl(var(--color-text-muted) / 0.2);
    justify-content: center;
    align-content: center;
    margin: 0 auto;
    padding: 0;
    /* Allow the grid to use the full available width on small screens and fall back to horizontal scroll if needed */
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
}

.cell {
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-family-main);
    font-weight: 700;
    transition: all 0.1s ease;
    /* Use aspect-ratio for perfect squares and allow columns to shrink using fractional tracks */
    aspect-ratio: 1 / 1;
    width: 100%;
    height: auto;
    min-width: 1.6rem;
    max-width: 3.5rem;
    background-color: transparent;
    /* Default background */
    font-size: 1.1rem;
}

/* Slightly tighten gap and fonts on smaller screens */
@media (max-width: 420px) {
    .boardContainer { gap: 0.5px; }
    .cell { min-width: 1.2rem; font-size: 0.95rem; }
}

@media (max-width: 360px) {
    .cell { min-width: 1rem; font-size: 0.9rem; }
}

/* Base style for all math cells */
.cellNumber,
.operator {
    background-color: #fff8e1;
    color: #000000;
    /* Tous les caractères par défaut en noir */
}

.input {
    cursor: pointer;
    background-color: #ffffff;
    border: 1px solid #dcdcdc;
    color: #000000;
    /* Chiffres saisis en noir */
}

.result {
    color: #000000 !important;
    /* Résultats également en noir par défaut */
}

.inputSelected {
    background-color: hsl(var(--color-primary-light) / 0.5);
    z-index: 10;
    outline: 2px solid hsl(var(--color-primary));
}

.inputCorrect {
    background-color: #e8f5e9 !important;
    /* Vert pâle pour le fond */
    color: #2e7d32 !important;
    /* Vert foncé pour le nombre */
}

.inputError {
    background-color: #ffebee !important;
    /* Rouge pâle pour le fond */
    color: #c62828 !important;
    /* Rouge foncé pour le nombre */
}

.operator {
    font-size: 1.25rem;
    font-weight: 800;
}

/* Empty or spacer cells (if any used) */
.cellEmpty {
    background-color: hsl(var(--color-background));
    opacity: 0.1;
}

/* Response Dock */
.dock {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    justify-content: center;
    padding: 1rem;
    background: hsl(var(--color-surface-glass));
    border-radius: var(--radius-lg);
    margin-top: 1rem;
}

.dockBtn {
    width: 3rem;
    height: 3rem;
    border-radius: 50%;
    background: white;
    border: 1px solid hsl(var(--circle-border));
    font-weight: bold;
    font-size: 1.25rem;
    color: hsl(var(--color-text-main));
    box-shadow: var(--shadow-sm);
}

.dockBtn:hover {
    transform: translateY(-2px);
    border-color: hsl(var(--color-primary));
}